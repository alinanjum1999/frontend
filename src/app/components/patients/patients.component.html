<!--components/patients.component.html -->

<div class="w-full flex justify-center items-center
 h-screen overflow-y-hidden">
  <div class="flex justify-center items-start flex-1 pt-12">
    <div
      class="max-w-lg w-full h-auto p-6 bg-white border
       border-gray-200 rounded-lg shadow ml-2 mt-2"
    >
      <h2
        class="text-center text-2xl font-semibold
         leading-7 text-blue-600 mb-2"
      >
        Add New Patient
      </h2>
      <form class="max-w-md mx-auto">
        <div class="block mb-5">
          <label
            for="name"
            class="block mb-2 text-sm font-medium
             text-gray-600 required"
            >Name</label
          >
          <input
            type="text"
            [(ngModel)]="name"
            name="name"
            id="name"
            class="bg-gray-50 border border-gray-300
            text-gray-900 text-sm rounded-lg focus:ring-blue-500
            focus:border-blue-500 block w-full p-2.5"
            placeholder="Patient's Name"
            required
          />
        </div>
        <div class="block mb-5">
          <label
            for="age"
            class="block mb-2 text-sm font-medium
            text-gray-600 required"
            >Age</label
          >
          <input
            type="number"
            [(ngModel)]="age"
            name="age"
            id="age"
            class="bg-gray-50 border border-gray-300
             text-gray-900 text-sm rounded-lg focus:ring-blue-500
              focus:border-blue-500 block w-full p-2.5"
            placeholder="Patient's Age"
            required
          />
        </div>
        <div class="block mb-5">
          <label
            for="gender"
            class="block mb-2 text-sm font-medium text-gray-600 required"
            >Gender</label
          >
          <select
            [(ngModel)]="gender"
            name="gender"
            id="gender"
            class="bg-gray-50 border border-gray-300 text-gray-900
             text-sm rounded-lg focus:ring-blue-500
              focus:border-blue-500 block w-full p-2.5"
          >
            <option value="Select" selected>Select</option>
            <option value="Male">Male</option>
            <option value="Female">Female</option>
            <option value="Other">Other</option>
            <option value="Prefer not to say">Prefer not to say</option>
          </select>
        </div>
        <div class="block">
          <button
            *ngIf="!isEditing"
            type="submit"
            class="w-full block text-white bg-blue-700
             hover:bg-blue-800 focus:ring-4 focus:ring-blue-300
              font-medium rounded-lg text-sm px-5 py-2.5 me-2"
            (click)="onAddClick()"
          >
            Add
          </button>
          <button
            *ngIf="isEditing"
            type="submit"
            class="w-full block text-white bg-blue-700
            hover:bg-blue-800 focus:ring-4 focus:ring-blue-300
            font-medium rounded-lg text-sm px-5 py-2.5 me-2"
            (click)="onUpdateClick()"
          >
            Update
          </button>
        </div>
      </form>
    </div>
    <div class="flex-none mx-4"></div>
    <div class="flex-none w-96">
      <h2
        class="text-center text-2xl font-semibold
        leading-7 text-blue-600 my-2"
      >
        Patients ({{ PatientsArray.length }})
      </h2>
      <div class="h-screen overflow-y-auto">
        <div *ngFor="let patient of PatientsArray">
          <div class="h-auto my-2">
            <div
              class="bg-white border border-gray-200
              rounded-lg shadow md:max-w-xl hover:bg-gray-100"
            >
              <div class="flex flex-col items-center md:flex-row">
                <div class="flex flex-col justify-between p-4 leading-normal">
                  <p class="font-normal text-gray-700 text-lg">
                    Name: {{ patient.name }}
                  </p>

                  <p class="font-normal text-gray-700 text-lg">
                    Age: {{ patient.age }}
                  </p>
                  <p class="font-normal text-gray-700 text-lg">
                    Gender: {{ patient.gender }}
                  </p>
                </div>
              </div>
              <div class="flex items-center justify-center gap-x-3 mb-2">
                <button
                  type="button"
                  class="rounded-md bg-yellow-500 px-5 py-2
                  text-sm font-semibold text-white shadow-sm
                  hover:bg-yellow-400 focus-visible:outline
                  focus-visible:outline-2 focus-visible:outline-offset-2
                   focus-visible:outline-yellow-600"
                  (click)="onEditPatient(patient._id)"
                >
                  Edit
                </button>
                <button
                  type="button"
                  class="rounded-md bg-red-600 px-3 py-2
                  text-sm font-semibold text-white shadow-sm
                  hover:bg-red-500 focus-visible:outline
                  focus-visible:outline-2 focus-visible:outline-offset-2
                  focus-visible:outline-red-600"
                  (click)="onDeletePatient(patient._id)"
                >
                  Delete
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
